{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\eyder andres acalo\\\\OneDrive\\\\Escritorio\\\\proyectos_Carlos\\\\juego_tic_tac_toe\\\\juego\\\\src\\\\App.jsx\",\n  _s = $RefreshSig$();\nimport { useState } from 'react';\nimport confetti from 'canvas-confetti';\nimport { Square } from './components/Square.jsx';\nimport { TURNS } from './constants.js';\nimport { checkWinnerFrom, checkEndGame } from './logic/board.js';\nimport { WinnerModal } from './components/WinnerModal.jsx';\nimport { saveGameToStorage, resetGameStorage } from './logic/storage/index.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [board, setBoard] = useState(() => {\n    const boardFromStorage = window.localStorage.getItem('board');\n    if (boardFromStorage) return JSON.parse(boardFromStorage);\n    return Array(9).fill(null);\n  });\n  const [turn, setTurn] = useState(() => {\n    const turnFromStorage = window.localStorage.getItem('turn');\n    return turnFromStorage !== null && turnFromStorage !== void 0 ? turnFromStorage : TURNS.X;\n  });\n\n  // null es que no hay ganador, false es que hay un empate\n  const [winner, setWinner] = useState(null);\n  const resetGame = () => {\n    setBoard(Array(9).fill(null));\n    setTurn(TURNS.X);\n    setWinner(null);\n    resetGameStorage();\n  };\n  const updateBoard = index => {\n    // no actualizamos esta posición\n    // si ya tiene algo\n    if (board[index] || winner) return;\n    // actualizar el tablero\n    const newBoard = [...board];\n    newBoard[index] = turn;\n    setBoard(newBoard);\n    // cambiar el turno\n    const newTurn = turn === TURNS.X ? TURNS.O : TURNS.X;\n    setTurn(newTurn);\n    // guardar aqui partida\n    saveGameToStorage({\n      board: newBoard,\n      turn: newTurn\n    });\n    // revisar si hay ganador\n    const newWinner = checkWinnerFrom(newBoard);\n    if (newWinner) {\n      confetti();\n      setWinner(newWinner);\n    } else if (checkEndGame(newBoard)) {\n      setWinner(false); // empate\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    className: \"board\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Tic tac toe\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: resetGame,\n      children: \"Reset del juego\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"game\",\n      children: board.map((square, index) => {\n        return /*#__PURE__*/_jsxDEV(Square, {\n          index: index,\n          updateBoard: updateBoard,\n          children: square\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 15\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"turn\",\n      children: [/*#__PURE__*/_jsxDEV(Square, {\n        isSelected: turn === TURNS.X,\n        children: TURNS.X\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Square, {\n        isSelected: turn === TURNS.O,\n        children: TURNS.O\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(WinnerModal, {\n      resetGame: resetGame,\n      winner: winner\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"JGf4yemCjJukZRVAugyiXbTzdiU=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useState","confetti","Square","TURNS","checkWinnerFrom","checkEndGame","WinnerModal","saveGameToStorage","resetGameStorage","jsxDEV","_jsxDEV","App","_s","board","setBoard","boardFromStorage","window","localStorage","getItem","JSON","parse","Array","fill","turn","setTurn","turnFromStorage","X","winner","setWinner","resetGame","updateBoard","index","newBoard","newTurn","O","newWinner","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","map","square","isSelected","_c","$RefreshReg$"],"sources":["C:/Users/eyder andres acalo/OneDrive/Escritorio/proyectos_Carlos/juego_tic_tac_toe/juego/src/App.jsx"],"sourcesContent":["import { useState } from 'react'\nimport confetti from 'canvas-confetti';\n\n\nimport { Square } from './components/Square.jsx'\nimport { TURNS } from './constants.js'\nimport { checkWinnerFrom, checkEndGame } from './logic/board.js'\nimport { WinnerModal } from './components/WinnerModal.jsx'\nimport { saveGameToStorage, resetGameStorage } from './logic/storage/index.js'\n\nfunction App() {\n  const [board, setBoard] = useState(() => {\n    const boardFromStorage = window.localStorage.getItem('board')\n    if (boardFromStorage) return JSON.parse(boardFromStorage)\n    return Array(9).fill(null)\n  })\n\n  const [turn, setTurn] = useState(() => {\n    const turnFromStorage = window.localStorage.getItem('turn')\n    return turnFromStorage ?? TURNS.X\n  })\n\n  // null es que no hay ganador, false es que hay un empate\n  const [winner, setWinner] = useState(null)\n\n  const resetGame = () => {\n    setBoard(Array(9).fill(null))\n    setTurn(TURNS.X)\n    setWinner(null)\n\n    resetGameStorage()\n  }\n\n  const updateBoard = (index) => {\n    // no actualizamos esta posición\n    // si ya tiene algo\n    if (board[index] || winner) return\n    // actualizar el tablero\n    const newBoard = [...board]\n    newBoard[index] = turn\n    setBoard(newBoard)\n    // cambiar el turno\n    const newTurn = turn === TURNS.X ? TURNS.O : TURNS.X\n    setTurn(newTurn)\n    // guardar aqui partida\n    saveGameToStorage({\n      board: newBoard,\n      turn: newTurn\n    })\n    // revisar si hay ganador\n    const newWinner = checkWinnerFrom(newBoard)\n    if (newWinner) {\n      confetti()\n      setWinner(newWinner)\n    } else if (checkEndGame(newBoard)) {\n      setWinner(false) // empate\n    }\n  }\n\n  return (\n    <main className='board'>\n      <h1>Tic tac toe</h1>\n      <button onClick={resetGame}>Reset del juego</button>\n      <section className='game'>\n        {\n          board.map((square, index) => {\n            return (\n              <Square\n                key={index}\n                index={index}\n                updateBoard={updateBoard}\n              >\n                {square}\n              </Square>\n            )\n          })\n        }\n      </section>\n\n      <section className='turn'>\n        <Square isSelected={turn === TURNS.X}>\n          {TURNS.X}\n        </Square>\n        <Square isSelected={turn === TURNS.O}>\n          {TURNS.O}\n        </Square>\n      </section>\n\n      <WinnerModal resetGame={resetGame} winner={winner} />\n    </main>\n  )\n}\n\nexport default App\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}